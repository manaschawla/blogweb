{% extends 'blogs/basic.html' %}
{% load static %}
{% block head %}
<style>
    .profile-card {
        max-width: 600px;
        border-radius: 20px;
    }
    .profile-image {
        width: 140px;
        height: 140px;
        object-fit: cover;
        border: 4px solid #dee2e6;
        border-radius: 50%;
    }
    .profile-info p {
        margin-bottom: 10px;
        font-size: 15px;
        color: #555;
        text-align: left;
    }
    .profile-info strong {
        color: #000;
    }
</style>
{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center my-5">
    <div class="card shadow profile-card border-0 w-100">
        <div class="card-body d-flex flex-column align-items-center text-center gap-4 p-4">

            <!-- Profile Picture -->
            {% if profile.profile_picture %}
                <img src="{{ profile.profile_picture.url }}" class="profile-image mb-3" alt="Profile Picture">
            {% else %}
                <img src="{% static 'default-profile.png' %}" class="profile-image mb-3" alt="Default Profile">
            {% endif %}

            <!-- User Info -->
            <div class="profile-info w-100">
                <p class="border-bottom pb-2"><strong>First Name:</strong> {{ profile.first_name }}</p>
                <p class="border-bottom pb-2"><strong>Last Name:</strong> {{ profile.last_name }}</p>
                <p class="border-bottom pb-2"><strong>Email:</strong> {{ profile.email }}</p>
                <p class="border-bottom pb-2"><strong>Mobile:</strong> {{ profile.mobile_number }}</p>
                <p class="border-bottom pb-2"><strong>Alternate Mobile:</strong> {{ profile.alternate_mobile_number }}</p>
                <p class="border-bottom pb-2"><strong>City:</strong> {{ profile.city }}</p>
                <p class="border-bottom pb-2"><strong>State:</strong> {{ profile.state }}</p>
                <p class="border-bottom pb-2"><strong>Country:</strong> {{ profile.country }}</p>
                <p class="border-bottom pb-2"><strong>Pincode:</strong> {{ profile.pincode }}</p>
            </div>

            <!-- 2FA Disable -->
            {% if request.user.custom_user.is_2fa_enabled %}
            <form action="{% url 'disable_2fa' %}" method="post" class="w-100">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger w-100 rounded-pill">üîí Disable 2FA</button>
            </form>
            {% endif %}

            <!-- Edit Profile -->
            <a href="{% url 'edit_profile' user.id %}" 
               class="btn btn-primary w-100 rounded-pill mt-2">
               ‚úèÔ∏è Edit Profile
            </a>

        </div>
    </div>
</div>
{% endblock %}
